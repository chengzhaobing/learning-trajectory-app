@tailwind base;
@tailwind components;
@tailwind utilities;

/* 全局样式重置 */
@layer base {
  * {
    @apply border-0;
  }
  
  body {
    @apply bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white;
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
    font-variation-settings: normal;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  html {
    scroll-behavior: smooth;
  }
  
  /* 自定义滚动条 */
  ::-webkit-scrollbar {
    @apply w-2;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-white/20 rounded-full;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-white/30;
  }
}

/* 组件样式 */
@layer components {
  /* 玻璃拟态效果 */
  .glass {
    @apply bg-white/10 backdrop-blur-md border border-white/20;
  }
  
  .glass-heavy {
    @apply bg-white/20 backdrop-blur-lg border border-white/30;
  }
  
  .glass-light {
    @apply bg-white/5 backdrop-blur-sm border border-white/10;
  }
  
  /* 神经元效果 */
  .neural-glow {
    @apply shadow-lg;
    box-shadow: 0 0 20px rgba(126, 87, 194, 0.3), 0 0 40px rgba(126, 87, 194, 0.1);
  }
  
  .neural-glow:hover {
    box-shadow: 0 0 30px rgba(126, 87, 194, 0.5), 0 0 60px rgba(126, 87, 194, 0.2);
  }
  
  /* 全息效果 */
  .hologram {
    position: relative;
    overflow: hidden;
  }
  
  .hologram::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.2),
      transparent
    );
    animation: hologramWave 3s ease-in-out infinite;
  }
  
  /* 粒子轨道效果 */
  .particle-orbit {
    position: relative;
  }
  
  .particle-orbit::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 4px;
    height: 4px;
    background: #7E57C2;
    border-radius: 50%;
    transform: translate(-50%, -50%);
    animation: knowledgeOrbit 20s linear infinite;
  }
  
  /* 按钮样式 */
  .btn-primary {
    @apply bg-knowledge-500 hover:bg-knowledge-600 text-white font-medium px-6 py-3 rounded-xl transition-all duration-300 neural-glow;
  }
  
  .btn-secondary {
    @apply glass hover:glass-heavy text-white font-medium px-6 py-3 rounded-xl transition-all duration-300;
  }
  
  .btn-ghost {
    @apply bg-transparent hover:bg-white/10 text-white font-medium px-6 py-3 rounded-xl transition-all duration-300;
  }
  
  /* 输入框样式 */
  .input-glass {
    @apply glass bg-white/5 border-white/20 text-white placeholder-white/50 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-knowledge-500 focus:border-transparent transition-all duration-300;
  }
  
  /* 卡片样式 */
  .card-glass {
    @apply glass rounded-2xl p-6 transition-all duration-300 hover:glass-heavy;
  }
  
  .card-neural {
    @apply card-glass neural-glow;
  }
  
  /* 导航样式 */
  .nav-item {
    @apply flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/10 text-white/80 hover:text-white;
  }
  
  .nav-item.active {
    @apply bg-knowledge-500/20 text-knowledge-300 neural-glow;
  }
  
  /* 文本样式 */
  .text-gradient {
    @apply bg-gradient-to-r from-knowledge-400 to-trajectory-400 bg-clip-text text-transparent;
  }
  
  .text-glow {
    text-shadow: 0 0 10px rgba(126, 87, 194, 0.5);
  }
  
  /* 加载动画 */
  .loading-dots {
    @apply flex gap-1;
  }
  
  .loading-dots > div {
    @apply w-2 h-2 bg-knowledge-500 rounded-full animate-pulse;
    animation-delay: calc(var(--i) * 0.2s);
  }
  
  /* 知识图谱容器 */
  .knowledge-graph {
    @apply relative w-full h-full overflow-hidden rounded-2xl glass;
  }
  
  /* 3D场景容器 */
  .scene-3d {
    @apply w-full h-full;
    canvas {
      @apply rounded-2xl;
    }
  }
  
  /* 时间轴样式 */
  .timeline-item {
    @apply relative pl-8 pb-8;
  }
  
  .timeline-item::before {
    content: '';
    @apply absolute left-0 top-2 w-4 h-4 bg-knowledge-500 rounded-full neural-glow;
  }
  
  .timeline-item::after {
    content: '';
    @apply absolute left-2 top-6 w-0.5 h-full bg-gradient-to-b from-knowledge-500 to-transparent;
  }
  
  .timeline-item:last-child::after {
    @apply hidden;
  }
  
  /* 热力图样式 */
  .heatmap-cell {
    @apply w-3 h-3 rounded-sm transition-all duration-300 hover:scale-110;
  }
  
  .heatmap-cell[data-level="0"] {
    @apply bg-white/10;
  }
  
  .heatmap-cell[data-level="1"] {
    @apply bg-knowledge-500/30;
  }
  
  .heatmap-cell[data-level="2"] {
    @apply bg-knowledge-500/50;
  }
  
  .heatmap-cell[data-level="3"] {
    @apply bg-knowledge-500/70;
  }
  
  .heatmap-cell[data-level="4"] {
    @apply bg-knowledge-500;
  }
  
  /* 技能雷达图 */
  .radar-chart {
    @apply relative w-full h-full;
  }
  
  /* 响应式网格 */
  .responsive-grid {
    @apply grid gap-6;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  }
  
  /* 侧边栏样式 */
  .sidebar {
    @apply fixed left-0 top-0 h-full w-80 glass-heavy z-50 transform transition-transform duration-300;
  }
  
  .sidebar.collapsed {
    @apply -translate-x-full;
  }
  
  /* 模态框样式 */
  .modal-overlay {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-90 flex items-center justify-center;
  }
  
  .modal-content {
    @apply glass-heavy rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto;
  }
}

/* 工具类 */
@layer utilities {
  .text-shadow {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }
  
  .text-shadow-lg {
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
  }
  
  .backdrop-blur-xs {
    backdrop-filter: blur(2px);
  }
  
  .perspective-1000 {
    perspective: 1000px;
  }
  
  .transform-style-3d {
    transform-style: preserve-3d;
  }
  
  .backface-hidden {
    backface-visibility: hidden;
  }
}

/* 动画关键帧 */
@keyframes particleFloat {
  0%, 100% {
    transform: translateY(0px) rotate(0deg);
  }
  50% {
    transform: translateY(-20px) rotate(180deg);
  }
}

@keyframes neuralPulse {
  0%, 100% {
    opacity: 0.4;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.05);
  }
}

@keyframes hologramWave {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes knowledgeOrbit {
  0% {
    transform: rotate(0deg) translateX(20px) rotate(0deg);
  }
  100% {
    transform: rotate(360deg) translateX(20px) rotate(-360deg);
  }
}

@keyframes glowPulse {
  0% {
    box-shadow: 0 0 5px rgba(126, 87, 194, 0.5);
  }
  100% {
    box-shadow: 0 0 20px rgba(126, 87, 194, 0.8), 0 0 30px rgba(126, 87, 194, 0.6);
  }
}